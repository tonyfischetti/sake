sudo: false
language: python
python:
  - "3.8"
  - "3.9"
  - "3.10"
  - "3.11"
  - "3.12"
addons:
  apt:
    sources:
    packages:
      - build-essential
      - pandoc
      - figlet
      - graphviz
# command to install dependencies
install:
  - pip install .
  - pip install -r ./testlib/test_reqs.txt
# command to run tests
script:
    # Run unit tests
    - python ./test_sake.py
    # Run cross-platform functional tests (works on all platforms)
    - cd functests && python run_cross_platform_tests.py && cd ..
    # Run Unix-specific tests only on Linux
    - if [ "$TRAVIS_OS_NAME" = "linux" ]; then cd functests/test3 && python ./functest.py && cd ../..; fi
